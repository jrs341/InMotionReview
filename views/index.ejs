<!DOCTYPE html>
<html lang='en-us'>
<head>

 	<meta charset='UTF-8'>

	<meta http-equiv='X-UA-Compatible' content='IE=edge'>

	<meta name='viewport' content='width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1'>

	<meta name='author' content='Jason Sinn'>

  	<title>InMotion Code Challenge</title>

  	<!--<script
	  src='https://code.jquery.com/jquery-3.3.1.js'
	  integrity='sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60='
	  crossorigin='anonymous'> 
	</script>-->

	<script type='text/javascript' src='views/app.js'> 
	</script>
	
  	<script>
  		if (typeof(Storage) !== 'undefined') {
    		//let data = <%- JSON.stringify(data) %>
    		//localStorage.setItem('movies',
    			//JSON.stringify({'data': data}))
    		localStorage.setItem('storage', true)
    		//movies = JSON.parse(localStorage.movies).data
    		//const pages = Array.apply(null,
    			//{length: movies.length/5}).map((value, index)=> {
  				//return index + 1})
    		//console.log(JSON.parse(localStorage.movies).data)
		} else {
			data = <%- JSON.stringify(data) %>
			localStorage.setItem('storage', false)
		}
  	</script>

</head>

<body>
	
	<div id = 'app'>
		<h1> My Movies </h1>
		<form action='/search'
			id = 'searchForm'>
      		<input type='text' placeholder='Search..' name='search'>
      		<button type='submit'>Submit</button>
      		<button type = 'button'
      			id = 'cancelButton'
      			onClick = 'cancel()'
      			>Cancel 
      		</button>
    	</form>
		<div id = 'movieList'>
			<!--<script> 
				const data = <%- JSON.stringify(data) %>
				renderMoviesUl(data)
			</script>-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-dom.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.21.1/babel.min.js"></script>
		<script type="text/babel">
		class Greeting extends React.Component {
		    render() {
		    const data = <%- JSON.stringify(data) %>
		    	console.log('data', data)
		    	renderMoviesUl(data)
		        //return (<p>Hello world</p>)
		    }
		}
		ReactDOM.render(
		    <Greeting />,
		    document.getElementById('movieList')
		)
		</script>
		</div>
	</div>

</body>

</html>